[project]
name = "offby1.website"
description = "My website"
requires-python = ">= 3.11"
keywords = [
  "pelican",
  "blog",
  "offby1"
]
version = "1.0.0"

dependencies = [
    "closure",
    "cssmin",
    "feed2toot",
    "invoke",
    "isort>=5.0",
    "markdown",
    "mf2py",
    "pelican-edit-url",
    "pelican-embed-microblog >= 1.1.0",
    "pelican-gist",
    "pelican-githubprojects",
    #  "pelican-photos < 1.4",
    "pelican-photos @ git+https://github.com/pelican-plugins/photos.git",
    "pelican-simple-footnotes",
    "pelican-sitemap",
    "pelican-tag-cloud",
    "pelican-webassets",
    "pelican>=4.5",
    "piexif",
    "python-slugify>=4.0",
    "rich",
    "webassets",
    "wheel",
    "ruff>=0.1.3",
]

[[authors]]
name = "Chris Rose"
email = "offline@offby1.net"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch]

[tool.hatch.metadata]
# enabled because we are using git dependencies
allow-direct-references = true

[tool.hatch.envs.dev]
extra-dependencies = [
  "flameprof",
  "viztracer",
  "orjson",
  "rich",
]

[tool.hatch.envs.dev.scripts]
cprofile = [
  "python -m cProfile -o pelican.prof -m pelican",
  "flameprof pelican.prof > pelican.svg",
]

perf = [
  "viztracer -o result.json -m pelican",
]

[tool.black]
line-length = 100
target-version = ['py38']
