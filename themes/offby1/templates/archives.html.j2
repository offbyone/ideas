{% extends "base.html.j2" %}

{% block title %}Archives - {{ SITENAME }}{% endblock %}
{% block body_class %}archives-page{% endblock %}

{% block content %}
<div class="section-header">
    <h1>Archives</h1>
</div>

{% for year, year_articles in dates|groupby('date.year')|reverse %}
<section class="archive-year">
    <h2>{{ year }}</h2>
    <ul class="archive-list">
        {% for article in year_articles %}
        <li>
            <time datetime="{{ article.date.isoformat() }}">{{ article.locale_date }}</time>
            <a href="{{ SITEURL }}/{{ article.url }}">{{ article.title }}</a>
            {% if article.category %}
            <span class="category">in {{ article.category }}</span>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</section>
{% endfor %}

<style>
.archive-year {
    margin-bottom: var(--space-2xl);
}

.archive-year h2 {
    color: var(--color-primary);
    font-size: $font-size-1;
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid var(--color-divider);
}

.archive-list {
    list-style: none;
    margin: 0;
}

.archive-list li {
    padding: var(--space-sm) 0;
    border-bottom: 1px solid var(--color-divider);
    display: flex;
    gap: var(--space-md);
    align-items: baseline;
    flex-wrap: wrap;
}

.archive-list li:last-child {
    border-bottom: none;
}

.archive-list time {
    color: var(--color-mute);
    font-size: 0.9rem;
    min-width: 150px;
    flex-shrink: 0;
}

.archive-list a {
    font-weight: 600;
    flex-grow: 1;
}

.archive-list .category {
    color: var(--color-mute);
    font-size: 0.85rem;
}

@media (max-width: $width-md) {
    .archive-list li {
        flex-direction: column;
        gap: var(--space-xs);
    }
    
    .archive-list time {
        min-width: auto;
    }
}
</style>
{% endblock %}
